(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{4879:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(5155),n=a(838),i=a(6766),l=a(5695),c=a(2115);let r=e=>fetch(e).then(e=>e.json());function d(){let e=(0,l.useSearchParams)().get("user_id"),{data:s,error:a}=(0,n.Ay)(e?"/api/dashboard?user_id=".concat(e):null,r);if(!e)return(0,t.jsx)("main",{className:"mx-auto max-w-3xl px-4 py-10 text-zinc-300",children:"Missing user ID."});if(a)return(0,t.jsx)("main",{className:"mx-auto max-w-3xl px-4 py-10 text-zinc-300",children:"Failed to load."});if(!s)return(0,t.jsx)("main",{className:"mx-auto max-w-3xl px-4 py-10 text-zinc-300",children:"Loading dashboard…"});let{user:c,listings:d,events:x}=s;return(0,t.jsxs)("main",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,t.jsxs)("header",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative h-10 w-10",children:(0,t.jsx)(i.default,{src:"/uploads/MoveMate.jpg",alt:"MoveMate",fill:!0,className:"object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Your MoveMate Dashboard"}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400",children:["Top picks for ",c.location_intent]})]})]}),(0,t.jsxs)("section",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-lg font-medium",children:"Top Listings"}),(0,t.jsx)("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:d.map(e=>(0,t.jsxs)("article",{className:"rounded-xl border border-zinc-800 bg-zinc-900/40 p-4",children:[(0,t.jsx)("h3",{className:"font-medium",children:e.address}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-zinc-400",children:["$","",e.price," • ",e.num_bedrooms," bd / ",e.num_bathrooms," ba"]}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.amenities.slice(0,4).map(e=>(0,t.jsx)("span",{className:"rounded-full border border-zinc-700 px-2 py-0.5 text-xs text-zinc-300",children:e},e))}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-zinc-500",children:["Source: ",e.listing_source]})]},e.listing_id))})]}),(0,t.jsxs)("section",{className:"mt-8",children:[(0,t.jsxs)("h2",{className:"text-lg font-medium",children:["Upcoming in ",c.location_intent]}),(0,t.jsx)("ul",{className:"mt-3 space-y-3",children:x.map(e=>(0,t.jsxs)("li",{className:"rounded-xl border border-zinc-800 bg-zinc-900/40 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.event_name}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400",children:[e.event_type," • ",e.event_date," • ",e.event_location]})]}),(0,t.jsx)("span",{className:"rounded-md bg-[#44065f] px-2 py-1 text-xs text-white",children:c.location_intent})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-zinc-300",children:e.event_description})]},e.event_id))})]})]})}function x(){return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)("main",{className:"mx-auto max-w-3xl px-4 py-10 text-zinc-300",children:"Loading dashboard…"}),children:(0,t.jsx)(d,{})})}},4957:(e,s,a)=>{Promise.resolve().then(a.bind(a,4879))}},e=>{var s=s=>e(e.s=s);e.O(0,[766,588,441,684,358],()=>s(4957)),_N_E=e.O()}]);